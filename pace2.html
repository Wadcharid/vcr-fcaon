<!DOCTYPE html>
<html>
<head>
<title>Pace Calculator</title>
<style>
/* ... (CSS เหมือนเดิม) ... */
</style>
</head>
<body>
<div class="container">
    <h1>Pace Calculator (นาที/กม.)</h1>
    <label for="minutes">Pace:</label>
    <div class="input-group">
        <input type="number" id="minutes" placeholder="นาที" min="0" value="0">
        <input type="number" id="seconds" placeholder="วินาที" min="0" max="59" value="0">
    </div>

    <label for="percentage">เปอร์เซ็นต์ (%):</label>
    <input type="number" id="percentage" placeholder="ตัวเลขจำนวนเต็ม" min="0" value="100">

    <button onclick="calculatePace()">คำนวณ</button>

    <div id="results"></div>
</div>

<script>
function calculatePace() {
    let minutes = parseInt(document.getElementById("minutes").value) || 0;
    let seconds = parseInt(document.getElementById("seconds").value) || 0;
    let percentage = parseInt(document.getElementById("percentage").value) || 100; // ค่าเริ่มต้นเป็น 100

    const totalSeconds = (minutes * 60) + seconds;

    if (isNaN(totalSeconds) || totalSeconds < 0) {
        alert("กรุณาป้อน Pace ให้ถูกต้อง");
        return;
    }

    const resultsDiv = document.getElementById("results");
    resultsDiv.innerHTML = "";

    percentage = Math.round(percentage);

    const targetPaceSeconds = (totalSeconds / (percentage / 100));
    const targetPaceMinutes = Math.floor(targetPaceSeconds / 60);
    const targetPaceRemainingSeconds = Math.round(targetPaceSeconds % 60);

    let speedDescription = "";
    if (percentage > 100) {
        speedDescription = "เร็วขึ้นจาก Input";
    } else if (percentage < 100) {
        speedDescription = `ช้าลง ${100-percentage}% จาก Input`;
    } else {
        speedDescription = "เท่ากับ Input";
    }

    resultsDiv.innerHTML += `<p>${percentage}% = ${targetPaceMinutes}:${targetPaceRemainingSeconds.toString().padStart(2, '0')} นาที/กม. (${speedDescription})</p>`;

    const percentagesToCalculate = [70, 80, 85, 90, 95, 97, 100, 105, 110];

    percentagesToCalculate.forEach(percent => {
        const calculatedPaceSeconds = (totalSeconds / (percent / 100));
        const calculatedPaceMinutes = Math.floor(calculatedPaceSeconds / 60);
        const calculatedPaceRemainingSeconds = Math.round(calculatedPaceSeconds % 60);

        let speedDescriptionLoop = "";
        if (percent > 100) {
            speedDescriptionLoop = "เร็วขึ้นจาก Input";
        } else if (percent < 100) {
            speedDescriptionLoop = `ช้าลง ${100-percent}% จาก Input`;
        } else {
            speedDescriptionLoop = "เท่ากับ Input";
        }

        resultsDiv.innerHTML += `<p>${percent}% = ${calculatedPaceMinutes}:${calculatedPaceRemainingSeconds.toString().padStart(2, '0')} นาที/กม. (${speedDescriptionLoop})</p>`;
    });
}

// เพิ่ม Event Listener สำหรับกด Enter
const percentageInput = document.getElementById("percentage");
const minutesInput = document.getElementById("minutes");
const secondsInput = document.getElementById("seconds");

percentageInput.addEventListener("keyup", function(event) {
  if (event.key === "Enter") {
    calculatePace();
  }
});
minutesInput.addEventListener("keyup", function(event) {
  if (event.key === "Enter") {
    calculatePace();
  }
});
secondsInput.addEventListener("keyup", function(event) {
  if (event.key === "Enter") {
    calculatePace();
  }
});
</script>

</body>
</html>
